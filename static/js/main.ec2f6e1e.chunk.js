(this["webpackJsonpmp-test"]=this["webpackJsonpmp-test"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"locations":[{"locationID":1,"name":"testenter.ru_01"},{"locationID":2,"name":"testenter.ru_02"},{"locationID":3,"name":"testenter.ru_03"},{"locationID":4,"name":"testenter.ru_04"}],"envs":[{"envID":1,"name":"Test_192.168.220.157"},{"envID":2,"name":"Test_192.168.112.23"}],"servers":[{"serverID":41,"name":"MPTEST41","locationID":1,"envID":1},{"serverID":42,"name":"MPTEST42","locationID":1,"envID":1},{"serverID":43,"name":"MPTEST43","locationID":1,"envID":2},{"serverID":44,"name":"MPTEST44","locationID":2,"envID":2},{"serverID":45,"name":"MPTEST45","locationID":3,"envID":2},{"serverID":46,"name":"MPTEST46","locationID":4,"envID":2}]}')},16:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);n(16);var c=n(3),a=n(10),o=n(1),s=n.n(o),i=n(9),r=n(13),l=n.n(r),u=n(14),j=n(15),d=n(2),v=n(11);function b(e){return new Promise((function(t){return setTimeout(t,e)}))}var m=new function e(){var t=this;Object(j.a)(this,e),this.isLoaded=!1,this.locations=[],this.envs=[],this.servers=[],this.fetchData=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(3e3);case 2:Object(d.g)((function(){t.locations=v.locations,t.envs=v.envs,t.servers=v.servers,t.isLoaded=!0}));case 3:case"end":return e.stop()}}),e)}))),Object(d.d)(this)},f=Object(o.createContext)(m),O=n(8),h=n(5),x=(n(23),n(0)),I=Object(i.a)((function(e){var t=e.location,n=e.locationIndex,a=e.setLocations,s=Object(o.useContext)(f),i=s.servers.reduce((function(e,n){return n.locationID===t.locationID&&n.envID===t.envID&&e.push(n.name),e}),[]),r=function(e){return function(o){a((function(a){var s=Object(c.a)(a);return s.splice(n,1,Object(h.a)(Object(h.a)({},t),Object(O.a)({},e,+o.target.value))),s}))}};return Object(x.jsxs)("div",{className:"location-form",children:[Object(x.jsxs)("div",{className:"location-form__header",children:[Object(x.jsx)("i",{className:"fas fa-vial"}),"\u0422\u0435\u0441\u0442\u043e\u0432\u0430\u044f \u043b\u043e\u043a\u0430\u0446\u0438\u044f ",n+1]}),Object(x.jsx)("div",{className:"location-form__delete",children:Object(x.jsx)("i",{className:"fas fa-trash-alt",onClick:function(e){a((function(e){var t=Object(c.a)(e);return t.splice(n,1),t}))}})}),Object(x.jsx)("div",{className:"location-form__location-label",children:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f"}),s.isLoaded?Object(x.jsxs)("select",{className:"location-form__location-input input-with-icon",onChange:r("locationID"),value:t.locationID,children:[Object(x.jsx)("option",{value:"",children:"-- \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u043e\u043a\u0430\u0446\u0438\u044e --"}),s.locations.map((function(e,t){return Object(x.jsxs)("option",{value:e.locationID,children:["\uf3c5 ",e.name]},t)}))]}):Object(x.jsx)("div",{className:"location-form__location-input loading-background"}),Object(x.jsx)("div",{className:"location-form__env-label",children:"\u0421\u0440\u0435\u0434\u0430"}),s.isLoaded?Object(x.jsxs)("select",{className:"location-form__env-input input-with-icon",onChange:r("envID"),value:t.envID,children:[Object(x.jsx)("option",{value:"",children:"-- \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0440\u0435\u0434\u0443 --"}),s.envs.map((function(e,t){return Object(x.jsxs)("option",{value:e.envID,children:["\uf299 ",e.name]},t)}))]}):Object(x.jsx)("div",{className:"location-form__env-input loading-background"}),Object(x.jsx)("div",{className:"location-form__servers-label",children:"\u0421\u0435\u0440\u0432\u0435\u0440\u044b"}),s.isLoaded?Object(x.jsx)("div",{className:"location-form__servers-data input-with-icon",children:i.length?Object(x.jsxs)(x.Fragment,{children:["\uf233 ",i.join(", ")]}):Object(x.jsx)(x.Fragment,{children:"\uf057 No servers"})}):Object(x.jsx)("div",{className:"location-form__servers-data loading-background"}),Object(x.jsx)("div",{className:"location-form__hint-label",children:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430"}),s.isLoaded?Object(x.jsx)("input",{type:"text",className:"location-form__hint-input input-with-icon",value:"\uf128 ".concat(t.hint),onChange:function(e){a((function(a){var o=Object(c.a)(a);return o.splice(n,1,Object(h.a)(Object(h.a)({},t),{hint:e.target.value.slice(2)})),o}))}}):Object(x.jsx)("div",{className:"location-form__hint-input loading-background"})]})}));n(25);function p(){var e=Object(o.useState)([]),t=Object(a.a)(e,2),n=t[0],s=t[1];return Object(x.jsxs)("div",{className:"locations-list",children:[n.map((function(e,t){return Object(x.jsx)(I,{location:e,locationIndex:t,setLocations:s},t)})),Object(x.jsxs)("button",{className:"locations-list__button",onClick:function(){return s((function(e){return[].concat(Object(c.a)(e),[{locationID:0,envID:0,hint:""}])}))},children:[Object(x.jsx)("i",{class:"fas fa-plus"}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0441\u0442\u043e\u0432\u0443\u044e \u043b\u043e\u043a\u0430\u0446\u0438\u044e..."]}),Object(x.jsxs)("button",{className:"locations-list__button",onClick:function(){return console.log(n)},children:[Object(x.jsx)("i",{class:"fas fa-terminal"}),"\u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u044c..."]})]})}n(26);function D(){return Object(x.jsx)("div",{className:"app",children:Object(x.jsx)(p,{})})}Object(i.a)((function(){return Object(o.useContext)(f).isLoaded?Object(x.jsx)("div",{children:"Hello world"}):Object(x.jsx)("div",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b"})}));var _=n(6),N=n.n(_);m.fetchData(),N.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(D,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.ec2f6e1e.chunk.js.map